{
  "openapi" : "3.0.0",
  "info" : {
    "title" : "Swagger OrganisationInformation",
    "description" : "API for find organisations, and get repports for them\n",
    "termsOfService" : "http://swagger.io/terms/",
    "contact" : {
      "email" : "api.support@iberinform.es"
    },
    "license" : {
      "name" : "Apache 2.0",
      "url" : "http://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version" : "1.0.0"
  },
  "externalDocs" : {
    "description" : "Find out more about Swagger",
    "url" : "http://swagger.io"
  },
  "servers" : [ {
    "url" : "https://virtserver.swaggerhub.com/iberinform/OrganisationsInformation/1.0.0",
    "description" : "SwaggerHub API Auto Mocking"
  }, {
    "url" : "https://virtserver.swaggerhub.com/iberinform/OrganisationInformation/1.0.0",
    "description" : "SwaggerHub API Auto Mocking"
  } ],
  "tags" : [ {
    "name" : "countries",
    "description" : "Info about the countries"
  }, {
    "name" : "reports",
    "description" : "Info about reports"
  }, {
    "name" : "organisations",
    "description" : "Info about organisations"
  }, {
    "name" : "providers",
    "description" : "Info about providers"
  }, {
    "name" : "orders",
    "description" : "Info about orders"
  }, {
    "name" : "login",
    "description" : "Info about login"
  } ],
  "paths" : {
    "/v1/countries" : {
      "get" : {
        "tags" : [ "countries" ],
        "summary" : "get available countries to search organisations",
        "operationId" : "getCountries",
        "parameters" : [ {
          "name" : "name",
          "in" : "query",
          "description" : "limit",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "limit",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "integer"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "offset",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "integer"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/countriesList"
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "petstore_auth" : [ "write:pets", "read:pets" ]
        } ]
      }
    },
    "/v1/countries/{countryId}" : {
      "get" : {
        "tags" : [ "countries" ],
        "summary" : "Find a country by Id",
        "description" : "Returns a single country",
        "operationId" : "getCountryByID",
        "parameters" : [ {
          "name" : "countryId",
          "in" : "path",
          "description" : "id of country",
          "required" : true,
          "style" : "simple",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/linksList"
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "petstore_auth" : [ "write:pets", "read:pets" ]
        } ]
      }
    },
    "/v1/countries/{countryId}/providers" : {
      "get" : {
        "tags" : [ "providers", "countries" ],
        "summary" : "Find providers by country Id",
        "description" : "Returns an array of organisations",
        "operationId" : "getProviders",
        "parameters" : [ {
          "name" : "countryId",
          "in" : "path",
          "description" : "Id of country",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/provider"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/countries/{countryId}/providers/{providerId}" : {
      "get" : {
        "tags" : [ "providers", "countries" ],
        "summary" : "Find provider by Id",
        "description" : "Returns a single provider",
        "operationId" : "getProviderById",
        "parameters" : [ {
          "name" : "countryId",
          "in" : "path",
          "description" : "Id of organisation",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "providerId",
          "in" : "path",
          "description" : "Id of provider",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/providerSearchCriteria"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/organisations" : {
      "get" : {
        "tags" : [ "organisations" ],
        "summary" : "Find organisations by search criteria",
        "description" : "Returns an array of organisations",
        "operationId" : "getOrganisations",
        "parameters" : [ {
          "name" : "countryId",
          "in" : "query",
          "description" : "Id of country",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "name",
          "in" : "query",
          "description" : "name of the organisation to search",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "matchType",
          "in" : "query",
          "description" : "match type of the search",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "nreg",
          "in" : "query",
          "description" : "nreg of the organisation",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "vat",
          "in" : "query",
          "description" : "vat of the organisation",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "limit",
          "in" : "query",
          "description" : "limit",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "integer"
          }
        }, {
          "name" : "offset",
          "in" : "query",
          "description" : "offset",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "integer"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/organisationsList"
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/organisations/{organisationId}" : {
      "get" : {
        "tags" : [ "organisations" ],
        "summary" : "Find organisation by Id",
        "description" : "Returns a single organisation",
        "operationId" : "getOrganisationById",
        "parameters" : [ {
          "name" : "countryId",
          "in" : "query",
          "description" : "Id of country",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "organisationId",
          "in" : "path",
          "description" : "Id of organisation",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "idType",
          "in" : "query",
          "description" : "type of the Id of the organisation",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/organisation"
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/orders" : {
      "get" : {
        "tags" : [ "orders" ],
        "summary" : "Find info about available orders",
        "description" : "Returns an array of orders",
        "operationId" : "getOrders",
        "parameters" : [ {
          "name" : "countryId",
          "in" : "query",
          "description" : "Id of country",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "status",
          "in" : "query",
          "description" : "status of the order to search",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/orderResponse"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      },
      "post" : {
        "tags" : [ "orders" ],
        "summary" : "create a new order",
        "description" : "Create a new order",
        "operationId" : "createOrder",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/orderRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/orderResponse"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/reports" : {
      "get" : {
        "tags" : [ "reports" ],
        "summary" : "Find info about available reports for a single order",
        "description" : "Returns an array of reports",
        "operationId" : "getReports",
        "parameters" : [ {
          "name" : "orderId",
          "in" : "query",
          "description" : "Id of order",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "countryId",
          "in" : "query",
          "description" : "Id of country",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "status",
          "in" : "query",
          "description" : "status of the reports to search",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/reportResponse"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/reports/{reportId}" : {
      "get" : {
        "tags" : [ "reports" ],
        "summary" : "Find a report by Id",
        "description" : "Returns a single report",
        "operationId" : "getReportById",
        "parameters" : [ {
          "name" : "orderId",
          "in" : "query",
          "description" : "Id of order",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "reportId",
          "in" : "path",
          "description" : "id of report",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "lang",
          "in" : "query",
          "description" : "language",
          "required" : false,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object"
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    },
    "/v1/login" : {
      "post" : {
        "tags" : [ "login" ],
        "summary" : "login",
        "description" : "Login",
        "operationId" : "login",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "object"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object"
                }
              }
            }
          },
          "400" : {
            "description" : "bad request"
          },
          "401" : {
            "description" : "authentication failed"
          },
          "403" : {
            "description" : "forbidden"
          },
          "404" : {
            "description" : "not found"
          },
          "500" : {
            "description" : "internal server error"
          }
        },
        "security" : [ {
          "api_key" : [ ]
        } ]
      }
    }
  },
  "components" : {
    "schemas" : {
      "country" : {
        "required" : [ "id", "link", "name" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "ESP"
          },
          "name" : {
            "type" : "string",
            "example" : "Spain"
          },
          "links" : {
            "$ref" : "#/components/schemas/linksList"
          }
        }
      },
      "countriesList" : {
        "type" : "object",
        "properties" : {
          "countries" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/country"
            }
          },
          "links" : {
            "$ref" : "#/components/schemas/linksList"
          }
        }
      },
      "idTypes" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/idTypes_inner"
        }
      },
      "criteriaSet" : {
        "type" : "object",
        "properties" : {
          "paramName" : {
            "type" : "string"
          },
          "optional" : {
            "type" : "boolean"
          },
          "minLength" : {
            "type" : "integer",
            "format" : "int32",
            "nullable" : true
          },
          "maxLength" : {
            "type" : "integer",
            "format" : "int32",
            "nullable" : true
          },
          "validationRegExp" : {
            "type" : "string",
            "nullable" : true
          },
          "allowedValues" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "links" : {
            "$ref" : "#/components/schemas/linksList"
          }
        }
      },
      "searchCriteria" : {
        "type" : "object",
        "properties" : {
          "criteriaSet" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/criteriaSet"
            }
          }
        }
      },
      "providerSearchCriteria" : {
        "required" : [ "id", "idTypes", "name", "searchCriteria" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "ESP"
          },
          "name" : {
            "type" : "string",
            "example" : "Spain"
          },
          "idTypes" : {
            "$ref" : "#/components/schemas/idTypes"
          },
          "searchCriteria" : {
            "$ref" : "#/components/schemas/searchCriteria"
          }
        }
      },
      "organisationsList" : {
        "type" : "object",
        "properties" : {
          "organisations" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/organisation"
            }
          },
          "links" : {
            "$ref" : "#/components/schemas/linksList"
          }
        }
      },
      "orgIdent" : {
        "type" : "object",
        "properties" : {
          "idType" : {
            "type" : "string",
            "example" : "CSAF"
          },
          "id" : {
            "type" : "string",
            "example" : "C123"
          }
        }
      },
      "address" : {
        "type" : "object",
        "properties" : {
          "addressType" : {
            "type" : "string",
            "example" : "Paseo"
          },
          "street" : {
            "type" : "string",
            "example" : "Paseo Castellana 4"
          },
          "city" : {
            "type" : "string",
            "example" : "Madrid"
          },
          "postCode" : {
            "type" : "string",
            "example" : "28026"
          },
          "countrySubident" : {
            "type" : "array",
            "items" : {
              "type" : "string",
              "example" : "MB"
            }
          },
          "country" : {
            "type" : "string",
            "example" : "ESP"
          }
        }
      },
      "registeredOffice" : {
        "type" : "object",
        "properties" : {
          "registeredOfficeType" : {
            "type" : "string",
            "example" : "NREG"
          },
          "registeredOfficeCode" : {
            "type" : "string",
            "example" : "A123"
          }
        }
      },
      "registeredOfficesList" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/registeredOffice"
        }
      },
      "organisation" : {
        "type" : "object",
        "properties" : {
          "orgIdent" : {
            "$ref" : "#/components/schemas/orgIdent"
          },
          "name" : {
            "type" : "string",
            "example" : "Atradius Credito y Caucion"
          },
          "address" : {
            "$ref" : "#/components/schemas/address"
          },
          "registeredOfficesList" : {
            "$ref" : "#/components/schemas/registeredOfficesList"
          },
          "providerId" : {
            "type" : "string"
          },
          "links" : {
            "$ref" : "#/components/schemas/linksList"
          }
        }
      },
      "link" : {
        "type" : "object",
        "properties" : {
          "rel" : {
            "type" : "string",
            "example" : "self"
          },
          "href" : {
            "type" : "string",
            "example" : "https://server.domain/api/self"
          }
        }
      },
      "linksList" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/link"
        }
      },
      "reportRequest" : {
        "type" : "object",
        "properties" : {
          "countryId" : {
            "type" : "string",
            "example" : "ESP"
          },
          "providerId" : {
            "type" : "string",
            "example" : "IBER"
          },
          "organisationId" : {
            "type" : "string",
            "example" : "12345678"
          }
        }
      },
      "reportResponse" : {
        "type" : "object",
        "properties" : {
          "countryId" : {
            "type" : "string",
            "example" : "ESP"
          },
          "providerId" : {
            "type" : "string",
            "example" : "IBER"
          },
          "organisationId" : {
            "type" : "string",
            "example" : "12345678"
          },
          "status" : {
            "type" : "string",
            "example" : "pending"
          },
          "link" : {
            "$ref" : "#/components/schemas/link"
          }
        }
      },
      "callbackRequest" : {
        "type" : "object",
        "properties" : {
          "data" : {
            "type" : "string"
          },
          "type" : {
            "type" : "string"
          }
        }
      },
      "orderResponse" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "example" : "uuid"
          },
          "status" : {
            "type" : "string",
            "example" : "pending"
          },
          "reports" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/reportResponse"
            }
          }
        }
      },
      "orderRequest" : {
        "type" : "object",
        "properties" : {
          "reports" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/reportRequest"
            }
          },
          "callback" : {
            "$ref" : "#/components/schemas/callbackRequest"
          }
        }
      },
      "provider" : {
        "type" : "object",
        "properties" : {
          "providerId" : {
            "type" : "string",
            "example" : "IBER"
          },
          "countryId" : {
            "type" : "string",
            "example" : "ESP"
          },
          "links" : {
            "$ref" : "#/components/schemas/linksList"
          }
        }
      },
      "ApiResponse" : {
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "integer",
            "format" : "int32"
          },
          "type" : {
            "type" : "string"
          },
          "message" : {
            "type" : "string"
          }
        }
      },
      "idTypes_inner" : {
        "properties" : {
          "idType" : {
            "type" : "string",
            "example" : "CSAF"
          }
        }
      }
    },
    "securitySchemes" : {
      "petstore_auth" : {
        "type" : "oauth2",
        "flows" : {
          "implicit" : {
            "authorizationUrl" : "http://petstore.swagger.io/oauth/dialog",
            "scopes" : {
              "write:pets" : "modify pets in your account",
              "read:pets" : "read your pets"
            }
          }
        }
      },
      "api_key" : {
        "type" : "apiKey",
        "name" : "api_key",
        "in" : "header"
      }
    }
  }
}